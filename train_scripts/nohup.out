Using TensorFlow backend.
WARNING:tensorflow:From /root/anaconda3/envs/xujm/lib/python3.6/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.
Instructions for updating:
Colocations handled automatically by placer.
WARNING:tensorflow:From /root/anaconda3/envs/xujm/lib/python3.6/site-packages/tensorflow/python/keras/layers/core.py:143: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.
Instructions for updating:
Please use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.
WARNING:tensorflow:From /home/xujm/match-haha/train_scripts/tf_common/nn_module.py:153: conv1d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.conv1d instead.
WARNING:tensorflow:From /home/xujm/match-haha/train_scripts/tf_common/nn_module.py:317: calling reduce_sum_v1 (from tensorflow.python.ops.math_ops) with keep_dims is deprecated and will be removed in a future version.
Instructions for updating:
keep_dims is deprecated, use keepdims instead
WARNING:tensorflow:From /home/xujm/match-haha/train_scripts/tf_common/nn_module.py:487: dense (from tensorflow.python.layers.core) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.dense instead.
WARNING:tensorflow:From /home/xujm/match-haha/train_scripts/models/match_pyramid.py:92: conv2d (from tensorflow.python.layers.convolutional) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.conv2d instead.
WARNING:tensorflow:From /home/xujm/match-haha/train_scripts/models/match_pyramid.py:100: max_pooling2d (from tensorflow.python.layers.pooling) is deprecated and will be removed in a future version.
Instructions for updating:
Use keras.layers.max_pooling2d instead.
WARNING:tensorflow:From /root/anaconda3/envs/xujm/lib/python3.6/site-packages/tensorflow/python/ops/array_grad.py:425: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.cast instead.
2019-10-21 10:54:43.032715: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-10-21 10:54:43.036363: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 3600000000 Hz
2019-10-21 10:54:43.036879: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0x5598a3f3b740 executing computations on platform Host. Devices:
2019-10-21 10:54:43.036900: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>
2019-10-21 10:54:43.313551: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:998] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2019-10-21 10:54:43.313838: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1433] Found device 0 with properties: 
name: GeForce GTX 1060 6GB major: 6 minor: 1 memoryClockRate(GHz): 1.7335
pciBusID: 0000:01:00.0
totalMemory: 5.94GiB freeMemory: 5.87GiB
2019-10-21 10:54:43.313856: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1512] Adding visible gpu devices: 0
2019-10-21 10:54:43.314366: I tensorflow/core/common_runtime/gpu/gpu_device.cc:984] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-10-21 10:54:43.314378: I tensorflow/core/common_runtime/gpu/gpu_device.cc:990]      0 
2019-10-21 10:54:43.314385: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1003] 0:   N 
2019-10-21 10:54:43.314457: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 5706 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1060 6GB, pci bus id: 0000:01:00.0, compute capability: 6.1)
2019-10-21 10:54:43.315926: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0x5598a4b19bc0 executing computations on platform CUDA. Devices:
2019-10-21 10:54:43.315959: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): GeForce GTX 1060 6GB, Compute Capability 6.1
2019-10-21 10:54:44.360276: I tensorflow/stream_executor/dso_loader.cc:152] successfully opened CUDA library libcublas.so.10.0 locally
INFO:tensorflow:../weights/semantic_matching/model.checkpoint is not in all_model_checkpoint_paths. Manually adding it.
INFO:tensorflow:../weights/semantic_matching/model.checkpoint is not in all_model_checkpoint_paths. Manually adding it.
INFO:tensorflow:../weights/semantic_matching/model.checkpoint is not in all_model_checkpoint_paths. Manually adding it.
WARNING:tensorflow:From /home/xujm/match-haha/train_scripts/build_model.py:9: build_tensor_info (from tensorflow.python.saved_model.utils_impl) is deprecated and will be removed in a future version.
Instructions for updating:
This function will only be available through the v1 compatibility library as tf.compat.v1.saved_model.utils.build_tensor_info or tf.compat.v1.saved_model.build_tensor_info.
INFO:tensorflow:No assets to save.
INFO:tensorflow:No assets to write.
INFO:tensorflow:SavedModel written to: ../weights/pb/1/saved_model.pb
read embedding from: ../dataset_generate/bank_dataset/word_embed.txt 
read embedding from: ../dataset_generate/bank_dataset/char_embed.txt 

WARNING: The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
If you depend on functionality not listed there, please file an issue.

training model...
ready to save model....
model save done!
Model Saved Succeed.
25000
25000
0.90648
waitTraceback (most recent call last):
  File "./main.py", line 281, in <module>
    main(options)
  File "./main.py", line 263, in main
    input('wait')
EOFError: EOF when reading a line
